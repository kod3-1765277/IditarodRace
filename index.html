<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <title>Iditarod Race</title>
  <link rel="icon" type="image/x-icon" href="assets/img/favicon.ico" />
  <!-- Google fonts-->
  <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />
  <!-- Core theme CSS (includes Bootstrap)-->
  <link href="css/styles.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/map.css" />
  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin="">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>
</head>

<body id="page-top">
  <!-- Navigation-->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand js-scroll-trigger" href="#page-top">Home</a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#about">About</a></li>
          <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#history">History</a></li>
          <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#map_canvas">Map</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- Masthead-->
  <!-- Image credit for background goes to the US National Archive -->
  <header class="masthead">
    <div class="container d-flex h-100 align-items-center">
      <div class="mx-auto text-center">
        <h1 class="mx-auto my-0 text-uppercase">Iditarod Race</h1>
        <h2 class="text-white-50 mx-auto mt-2 mb-5">A Dog Sled Race with a Rich History</h2>
        <a class="btn btn-primary js-scroll-trigger" href="https://iditarod.com/">Visit Official Website</a>
      </div>
    </div>
  </header>

  <!--About-->
  <section class="projects-section bg-light" id="about">
    <div class="container">
      <h2 class="text-black mb-4 text-center">About</h2>
      <div class="row justify-content-center no-gutters mb-5 mb-lg-0">

        <div class="col-lg-6"><img class="img-fluid" src="img/iditarod_huskies.jpeg" alt="" /></div>
        <div class="col-lg-6">
          <div class="bg-black text-center h-100 project">
            <div class="d-flex h-100">
              <div class="project-text w-100 my-auto text-center text-lg-left">
                <h4 class="text-white">The What</h4>
                <p class="mb-0 text-white-50">The Iditarod is an annual dog sled race that occurs in the state of Alaska.
                  It spans a distance of over 1,000 miles, and attracts more than 100 mushers (dog sled drivers) each year.</p>
                <hr class="d-none d-lg-block mb-0 ml-0" />
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row justify-content-center no-gutters">
        <div class="col-lg-6"><img class="img-fluid" src="img/wilderness.jpeg" alt="" /></div>
        <div class="col-lg-6 order-lg-first">
          <div class="bg-black text-center h-100 project">
            <div class="d-flex h-100">
              <div class="project-text w-100 my-auto text-center text-lg-right">
                <h4 class="text-white">The When</h4>
                <p class="mb-0 text-white-50">The race occurs in early March, usually beginning on the first Saturday of the month.
                </p>
                <hr class="d-none d-lg-block mb-0 mr-0" />
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row justify-content-center no-gutters mb-5 mb-lg-0">

        <div class="col-lg-6"><img class="img-fluid" src="img/musher.jpeg" alt="" /></div>
        <div class="col-lg-6">
          <div class="bg-black text-center h-100 project">
            <div class="d-flex h-100">
              <div class="project-text w-100 my-auto text-center text-lg-left">
                <h4 class="text-white">The Where</h4>
                <p class="mb-0 text-white-50"> The race starts in Anchorage and ends in Nome.
                  There are two set routes for the race - both are essentially the same, with only a
                  few differences. On even years, the route loops North, and on odd years, the route loops South. Due to the COVID-19 pandemic, the route for the 2021 Iditarod was altered to become shorter.</p>
                <hr class="d-none d-lg-block mb-0 ml-0" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!--History-->
  <section class="about-section text-center" id="history">
    <div class="container">

      <div class="row">
        <div class="col-lg-8 mx-auto">
          <h2 class="text-white mb-4">History</h2>
          <p class="text-white-50">
            Dog sleds were used for work and day-to-day transportation, especially in Native villages.
            During WWII, mushers, or dog sled drivers, patrolled the wilderness of western Alaska. In the 1960s,
            after the invention of snowmobiles, it became less common to see dog teams across the state.
          </p>
          <p class="text-white-50">
            A woman named Dorothy Page, who was head of the Wasilla-Knik Centennial Committee, was charged
            with celebrating Alaska’s 100th year being a US Territory in 1967. She came up with the idea of
            starting a dog sled race over the historic Iditarod Trail in 1964. With help from Joe Redington Sr.,
            who wanted to preserve and recognize the Trail, the two worked together to create the race.
          </p>
          <p class="text-white-50">
            The Trail gained its fame for multiple reasons. Not only was it a historic gold rush and mail route,
            it also was the route taken in 1925 when dog dog sleds were used to transport a serum to Nome to help people ill with diptheria.
            This was called the “Great Race of Mercy”. This brought fame to dog teams, especially Balto, the lead dog
            of the team that reached Nome and Leonhard Seppala, his musher.
            Redington wanted to honor the Trail's rich history, as well as save sled dog culture,
            since it was quickly being phased out with the invention of snowmobiles.
          </p>
          <p class="text-white-50">
            After several failed race attempts in 1967 and 1969, interest was quickly lost. This race was 56 miles
            from Knik to Big Lake. A re-imagined, long-distance race all the way to Nome was created in 1973,
            with the US Army helping to clear out portions of the trail.
          </p>
          <p class="text-white-50">
            Ultimately, the race commemorates the role that sled dogs played in the settlements of Alaska.
            Mushers in the race travel between checkpoints just like freight mushers did.
            At the end of every race, mushers are greeted in Nome by the city’s fire siren, and by a crowd,
            regardless of the time of day or in which place they end up.
          </p>
        </div>
      </div>
      <img class="img-fluid" src="img/musher_dog.jpeg" alt="" />
    </div>
  </section>


  <section class="signup-section" id="map_canvas">
    <div id="map"></div>
    <script type="text/javascript">
      let map = L.map('map', {
        maxZoom: 20,
        minZoom: 0
      }).setView([60.6522, -157.1990], 7);

      map.invalidateSize();

      let grayscale = L.tileLayer(' https://{s}.basemaps.cartocdn.com/rastertiles/light_all/{z}/{x}/{y}.png').addTo(map);

      L.geoJson.ajax("assets/checkpoints.geojson", {
        onEachFeature: function(feature, layer) {
          layer.bindPopup("Checkpoint Name: " + feature.properties.name);
        }
      }).addTo(map);

      L.geoJson.ajax("assets/route.geojson").addTo(map).bindPopup("Even Year Race Route (Northern Route)");

      let ophir = L.marker([63.1460, -156.5299]);
      let iditarod = L.marker([62.5446, -158.0984]).addTo(map).bindPopup("Checkpoint Name: Iditarod");
      let shageluk = L.marker([62.6550, -159.5323]).addTo(map).bindPopup("Checkpoint Name: Shageluk");
      let anvik = L.marker([62.6522, -160.1990]).addTo(map).bindPopup("Checkpoint Name: Anvik");
      let grayling = L.marker([62.9054, -160.0642]).addTo(map).bindPopup("Checkpoint Name: Grayling");
      let eagle_island = L.marker([63.5612, -159.5182]).addTo(map).bindPopup("Checkpoint Name: Eagle Island");
      let kaltag = L.marker([64.3138, -158.7257]).bindPopup("Checkpoint Name: Kaltag");
      let latlngs = Array();

      //Get latlng from markers
      latlngs.push(ophir.getLatLng());
      latlngs.push(iditarod.getLatLng());
      latlngs.push(shageluk.getLatLng());
      latlngs.push(anvik.getLatLng());
      latlngs.push(grayling.getLatLng());
      latlngs.push(eagle_island.getLatLng());
      latlngs.push(kaltag.getLatLng());

      let polyline = L.polyline(latlngs, {
        color: 'red'
      }).addTo(map).bindPopup("Odd Year Race Route (Southern Route)");

      /*var baseLayers = {
        'Grayscale': grayscale,
        'Streets': streets,
        'Satellite': satellite
      };

      L.control.layers(baseLayers, {
        collapsed: false,
        position: 'topright'
      }).addTo(map);*/

      let takotna = L.marker([62.98715, -156.0691]);
      let mcgrath = L.marker([62.95839, -155.5976]);
      let nikolai = L.marker([63.01143, -154.3769]);
      let rohn = L.marker([62.29441, -153.3757]);
      let rainy = L.marker([62.08711, -152.7252]);
      let finger = L.marker([61.98226, -152.0704]);
      let skwentna = L.marker([61.96431, -151.1608]);
      let yentna = L.marker([61.73296, -150.6718]);
      let deshka = L.marker([61.7167, -150.1957]);

      let covidCoordinates = [iditarod.getLatLng(),
        ophir.getLatLng(),
        takotna.getLatLng(),
        nikolai.getLatLng(),
        rohn.getLatLng(),
        rainy.getLatLng(),
        finger.getLatLng(),
        skwentna.getLatLng(),
        yentna.getLatLng(),
        deshka.getLatLng()
      ];
      let covidLine = L.polyline(covidCoordinates, {
        color: 'purple',
        dashArray: '5, 10',
        lineCap: 'square'
      }).addTo(map).bindPopup("2021 Special COVID-19 Race Route");

      let wasilla = [61.3500, -149.3200];
      let campbell = [61.1562, -149.7955];
      let anchorage = [61.2185, -149.8812];
      let coords = [deshka.getLatLng(), wasilla, campbell, anchorage];
      L.polyline(coords, {
        color: 'rgb(51, 136, 255)'
      }).addTo(map).bindPopup("Even Year Race Route (Northern Route)");

      /*
      let legend = L.control({
        position: 'bottomright'
      });

      legend.onAdd = function(map) {

        let div = L.DomUtil.create('div', 'info_legend'),
          labels = ["Northern Route", "Southern Route", "COVID Route"];

        div.innerHTML = labels.join('<br>');

        return div;
      };

      legend.addTo(map);*/

      let legend = L.control({
        position: 'bottomright'
      });

      legend.onAdd = function() {

        let div = L.DomUtil.create('div', 'info_legend');
        div.innerHTML += '<b>Iditarod Race Routes</b><br />';
        div.innerHTML += '<i style="background: rgb(51, 136, 255)"></i><p> Northern Route </p>';
        div.innerHTML += '<i style="background: red"></i><p> Southern Route </p>';
        div.innerHTML += '<i style="background: purple"></i><p> COVID Route </p>';
        return div;
      };

      legend.addTo(map);

      map.attributionControl.addAttribution('Iditarod Race Route |  Base Map &copy; CartoDB | Made By Henry Ko and Manya Rozet');
    </script>
  </section>

  <!-- Footer-->
  <footer class="footer bg-black small text-center text-white-50">
    <div class="container">Henry Ko and Manya Rozet</div>
  </footer>
  <!-- Bootstrap core JS-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Third party plugin JS-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
  <!-- Core theme JS-->
  <script src="js/scripts.js"></script>
</body>

</html>
